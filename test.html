<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="static/layui/css/layui.css"  media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
    <style>
        #vivo-head .vivo-search{height:80px;width:100%;background:#202223;position:relative;z-index:9999;display:none;
        .vivo-search .search-box{width:700px;height:40px;position:absolute;top:20px;left:50%;margin-left:-350px;background:#666;-webkit-box-shadow:0 1px 2px rgb(0,0,0);-moz-box-shadow:0 1px 2px rgb(0,0,0);-ms-box-shadow:0 1px 2px rgb(0,0,0);box-shadow:0 1px 2px rgb(0,0,0);position:relative;z-index:9999;}
        .vivo-search .search-box input{width:550px;height:20px;padding:10px 20px;font-size:14px;color:#555;border:none;background:#fff;overflow:hidden;vertical-align:middle;}
        .vivo-search .search-box button{width:110px;height:40px;overflow:hidden;text-align:center;font-size:14px;color:#fff;border:none;overflow:hidden;vertical-align:middle;background:#008cd6;outline:none;cursor:pointer;-webkit-transition:background .2s ease-in-out;-moz-transition:background .2s ease-in-out;-ms-transition:background .2s ease-in-out;transition:background .2s ease-in-out;}
        .vivo-search .search-box button:hover{background:#0074b2;}
        .vivo-search .search-box button:active{-webkit-box-shadow:0 1px 2px rgba(0,0,0,.3) inset;-moz-box-shadow:0 1px 2px rgba(0,0,0,.3) inset;-ms-box-shadow:0 1px 2px rgba(0,0,0,.3) inset;box-shadow:0 1px 2px rgba(0,0,0,.3) inset;}
        .vivo-search .search-box a.close{width:24px;height:24px;position:absolute;top:8px;right:-40px;background:url(../images/vivo-head-ico.png) -86px 0 no-repeat;_background-image:url(../images/vivo-head-ico.gif);}
        .vivo-search .search-box a.close:hover{background-position:-86px -25px;}
    </style>
</head>
<body>
<ul class="layui-nav">
    <li class="layui-nav-item"><a href="">最新活动</a></li>
    <li class="layui-nav-item layui-this">
        <a href="javascript:;">产品</a>
        <dl class="layui-nav-child">
            <dd><a href="">选项1</a></dd>
            <dd><a href="">选项2</a></dd>
            <dd><a href="">选项3</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="">大数据</a></li>
    <li class="layui-nav-item">
        <a href="javascript:;">解决方案</a>
        <dl class="layui-nav-child">
            <dd><a href="">移动模块</a></dd>
            <dd><a href="">后台模版</a></dd>
            <dd class="layui-this"><a href="">选中项</a></dd>
            <dd><a href="">电商平台</a></dd>
        </dl>
    </li>
    <li class="layui-nav-item"><a href="">社区</a></li>
    <li class="layui-nav-item layui-hide-xs">
        <a href="#"><i class="layui-icon layui-icon-search"></i></a>
    </li>
    <div class="vivo-search">
        <div class="search-box">
            <form action='http://www.17sucai.com' method='get'>
                <input type="text" placeholder="如:jquery插件" name='q' class='data_q' autocomplete="off"><button>搜索</button><a class="close"></a>
            </form>
        </div>
    </div>
</ul>
<script>
    search = {
        init : function(){
            var headBox=$("#vivo-head"),
                navBox=headBox.find(".vivo-nav"),
                searchBox=headBox.find(".vivo-search"),
                searchInput=searchBox.find("input"),
                searchBtn=navBox.find(".search-user a.search"),
                closeSearchBtn=searchBox.find("a.close"),
                isSearchClose=true,
                isMenuEnter=isCommEnter=false;

            closeSearchBtn.css({opacity:0});
            searchBox.on({
                mouseenter : function(){
                    closeSearchBtn.animate({opacity:1},300);
                },
                mouseleave : function(){
                    closeSearchBtn.animate({opacity:0},300);
                }
            });

            searchBtn.on("click",function(){
                if(isSearchClose){
                    searchBox.children().css({opacity:0});
                    searchBox.css({display:"block",height:0}).stop().animate({height:80},300);
                    searchBox.children().stop().delay(300).animate({opacity:1},500);
                    searchInput.focus().val("");
                    $(this).addClass("current");
                    isSearchClose=false;
                }else{
                    searchBox.stop().animate({height:0},300,function(){
                        $(this).css({display:"none"});
                        isSearchClose=true;
                    });
                    $(this).removeClass("current");
                }
                return false;
            });
            closeSearchBtn.on("click",function(){
                searchBtn.click();
                return false;
            });

        }
    };

    $(document).ready(function() {search.init()});
</script>
</body>
</html>