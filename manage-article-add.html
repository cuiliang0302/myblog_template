<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>新增文章</title>
    <link rel="stylesheet" href="static/layui/css/layui.css">
    <link rel="stylesheet" href="static/define/css/style.css">
    <link rel="stylesheet" href="static/editormd/css/editormd.css" />
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <span><a class="nav-show-btn"><i></i></a></span>
        <div class="layui-logo">后台管理</div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item"><a href="index.html">首页</a></li>
<!--            <li class="layui-nav-item">-->
<!--                <a href="javascript:;">其它系统</a>-->
<!--                <dl class="layui-nav-child">-->
<!--                    <dd><a href="">邮件管理</a></dd>-->
<!--                    <dd><a href="">消息管理</a></dd>-->
<!--                    <dd><a href="">授权管理</a></dd>-->
<!--                </dl>-->
<!--            </li>-->
        </ul>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="static/images/photo.jpg" class="layui-nav-img">
                    贤心
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">基本资料</a></dd>
                    <dd><a href="">安全设置</a></dd>
                </dl>
            </li>
<!--            <li class="layui-nav-item"><a href="">退了</a></li>-->
        </ul>
    </div>

    <div class="layui-side layui-bg-black side-close">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree">
                <li class="layui-nav-item"><a href="manage-index.html">控制台</a></li>
                <li class="layui-nav-item layui-nav-itemed">
                    <a class="" href="javascript:;">文章管理</a>
                    <dl class="layui-nav-child">
                        <dd class="layui-this"><a href="manage-article-add.html">新增文章</a></dd>
                        <dd><a href="manage-article-list.html">文章列表</a></dd>
                        <dd><a href="manage-article-category.html">文章分类</a></dd>
                        <dd><a href="manage-article-tag.html">文章标签</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">网站管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="manage-web-comment.html">评论管理</a></dd>
                        <dd><a href="manage-web-leave.html">留言管理</a></dd>
                        <dd><a href="manage-web-shuffling.html">轮播图管理</a></dd>
                        <dd><a href="manage-web-link.html">友情链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="manage-user.html">用户管理</a></li>
            </ul>
        </div>
    </div>

    <div class="layui-body">
        <!-- 内容主体区域 -->
        <div class="manage-body">
            <div class="cintent-card">
                <form class="layui-form">
                    <input type="hidden" name="id" value="">
                    <div class="layui-form-item">
                        <label class="layui-form-label">文章标题：</label>
                        <div class="layui-input-block">
                            <input type="text" name="title" lay-verify="require" autocomplete="off" placeholder="请输入标题" class="layui-input" value="">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">文章分类：</label>
                        <div class="layui-input-block">
                            <select id="which_category" name="category_id">

                                <option value="1">Django</option>

                                <option value="2">Python</option>

                                <option value="3">Linux</option>

                                <option value="4">Mysql</option>

                                <option value="5">运维知识</option>

                            </select><div class="layui-unselect layui-form-select"><div class="layui-select-title"><input type="text" placeholder="请选择" value="Django" readonly="" class="layui-input layui-unselect"><i class="layui-edge"></i></div><dl class="layui-anim layui-anim-upbit"><dd lay-value="1" class="layui-this">Django</dd><dd lay-value="2" class="">Python</dd><dd lay-value="3" class="">Linux</dd><dd lay-value="4" class="">Mysql</dd><dd lay-value="5" class="">运维知识</dd></dl></div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">文章摘要：</label>
                        <div class="layui-input-block">
                            <input type="text" name="excerpt" lay-verify="require" autocomplete="off" placeholder="请输入摘要" class="layui-input" value="">
                        </div>
                    </div>


                    <div class="layui-form-item">
                        <label class="layui-form-label">文章标签：</label>
                        <div class="layui-input-block">

                            <input type="checkbox" id="1" lay-verify="require" name="article_tag" value="1" title="入门教程"><div class="layui-unselect layui-form-checkbox"><span>入门教程</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="2" lay-verify="require" name="article_tag" value="2" title="常见问题"><div class="layui-unselect layui-form-checkbox"><span>常见问题</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="3" lay-verify="require" name="article_tag" value="3" title="数据库管理"><div class="layui-unselect layui-form-checkbox"><span>数据库管理</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="4" lay-verify="require" name="article_tag" value="4" title="操作系统管理"><div class="layui-unselect layui-form-checkbox"><span>操作系统管理</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="5" lay-verify="require" name="article_tag" value="5" title="前端开发"><div class="layui-unselect layui-form-checkbox"><span>前端开发</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="6" lay-verify="require" name="article_tag" value="6" title="计算机网络"><div class="layui-unselect layui-form-checkbox"><span>计算机网络</span><i class="layui-icon layui-icon-ok"></i></div>

                            <input type="checkbox" id="7" lay-verify="require" name="article_tag" value="7" title="程序开发"><div class="layui-unselect layui-form-checkbox"><span>程序开发</span><i class="layui-icon layui-icon-ok"></i></div>

                        </div>
                    </div>

                    <div class="layui-form-item">
                        <label class="layui-form-label">封面图片：</label>
                        <div class="layui-input-block article-photo-change">
                            <img src="media/picture/1.jpg">
                            <button type="button" class="layui-btn" id="test3">上传图片</button><input class="layui-upload-file" type="file" accept="undefined" name="upload">
<!--                            <div class="layui-upload">-->

<!--                                <button class="layui-btn layui-btn-primary" layadmin-event="avartatPreview">查看图片</button>-->
<!--                            </div>-->
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">文章内容：</label>
                        <div class="layui-input-block" id="input-textarea">
                            <div id="test-editor">
                                <textarea style="display:none;"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn submitBtn">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="layui-footer layui-hide-xs">
        <!-- 底部固定区域 -->
        <span>Copyright&nbsp; ©&nbsp; 2019-2020&nbsp; 崔亮的博客&nbsp; All Rights Reserved</span>
        <span>|</span>
        <span><a href="http://www.beian.miit.gov.cn">陇ICP备19001718号</a></span>
        <span>|</span>
        <span><a
                href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11011202002337">京公安备11011202002337号</a></span>
        <span>|</span>
        <span><a href="https://www.cuiliangblog.cn">友情链接</a></span>
        <span>|</span>
        <span>Powered by Django</span>
    </div>
</div>
<script src="static/layui/layui.js"></script>
<script src="static/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<script src="static/editormd/editormd.js" charset="utf-8"></script>
<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });
</script>
<!--<script>-->
<!--    // 导航栏当前标签页-->
<!--    $(function () {-->
<!--        $(".layui-side-scroll ul:eq(0)").addClass("layui-nav-itemed");-->
<!--        $("#LAY-system-side-menu li:eq(0)").addClass("layui-this");-->
<!--    })-->
<!--</script>-->
<script>
    // 手机侧边栏
    $('.nav-show-btn').on("click", function () {
        $('.nav-show-btn').toggleClass('nav-close-btn');
        $('.side-close').toggleClass('side-show');
        $('.page-main').toggleClass('page-main-side');
    });
</script>
<script>
    layui.use(['form', 'layedit', 'laydate'], function(){
        var form = layui.form
            ,layer = layui.layer
            ,layedit = layui.layedit
            ,laydate = layui.laydate;

        //日期
        laydate.render({
            elem: '#date'
        });
        laydate.render({
            elem: '#date1'
        });

        //创建一个编辑器
        var editIndex = layedit.build('LAY_demo_editor');

        //自定义验证规则
        form.verify({
            title: function(value){
                if(value.length < 5){
                    return '标题至少得5个字符啊';
                }
            }
            ,pass: [
                /^[\S]{6,12}$/
                ,'密码必须6到12位，且不能出现空格'
            ]
            ,content: function(value){
                layedit.sync(editIndex);
            }
        });

        //监听指定开关
        form.on('switch(switchTest)', function(data){
            layer.msg('开关checked：'+ (this.checked ? 'true' : 'false'), {
                offset: '6px'
            });
            layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
        });

        //监听提交
        form.on('submit(demo1)', function(data){
            layer.alert(JSON.stringify(data.field), {
                title: '最终的提交信息'
            })
            return false;
        });

        //表单赋值
        layui.$('#LAY-component-form-setval').on('click', function(){
            form.val('example', {
                "username": "贤心" // "name": "value"
                ,"password": "123456"
                ,"interest": 1
                ,"like[write]": true //复选框选中状态
                ,"close": true //开关状态
                ,"sex": "女"
                ,"desc": "我爱 layui"
            });
        });

        //表单取值
        layui.$('#LAY-component-form-getval').on('click', function(){
            var data = form.val('example');
            alert(JSON.stringify(data));
        });

    });
</script>
<script>
    layui.use('upload', function(){
        var $ = layui.jquery
            ,upload = layui.upload;
        //指定允许上传的文件类型
        upload.render({
            elem: '#test3'
            ,url: 'https://httpbin.org/post' //改成您自己的上传接口
            ,accept: 'file' //普通文件
            ,done: function(res){
                layer.msg('上传成功');
                console.log(res);
            }
        });
        //同时绑定多个元素，并将属性设定在元素上
        upload.render({
            elem: '.demoMore'
            ,before: function(){
                layer.tips('接口地址：'+ this.url, this.item, {tips: 1});
            }
            ,done: function(res, index, upload){
                var item = this.item;
                console.log(item); //获取当前触发上传的元素，layui 2.1.0 新增
            }
        })
        //拖拽上传
        upload.render({
            elem: '#test10'
            ,url: 'https://httpbin.org/post' //改成您自己的上传接口
            ,done: function(res){
                layer.msg('上传成功');
                layui.$('#uploadDemoView').removeClass('layui-hide').find('img').attr('src', res.files.file);
                console.log(res)
            }
        });
    });
</script>
<script type="text/javascript">
    $(function() {
        var editor = editormd("test-editor", {
            width  : "100%",
            height : "800px",
            path   : "static/editormd/lib/",
            emoji: true, // 开启表情的功能！ 图片的本地配置！
            tex : true,                   // 开启科学公式TeX语言支持，默认关闭
            flowChart : true,             // 开启流程图支持，默认关闭
            sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,
        });
    });
</script>
</body>
</html>